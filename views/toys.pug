//- extends layout
 
//- block content
//-   h1 Search Results - Toys
 
//-   .container-fluid
//-     .row
//-       each item in results
//-         div.col-sm-3
//-           h3 #{item.name}
//-           p Type: #{item.toy_type}
//-           p Age_Range: #{item.age_range}
//-           a(href=`/toys/${item._id}`) Inspect
//-           a(href=`/toys/${item._id}/update`) Update
//-           a(href=`/toys/${item._id}/delete`) Delete
 
//-   a(href='/toys/create') Add New Toy
 
//-   script.
//-     function buy(index) {
//-       alert(`You added item ${index}`);
//-     }

extends layout
 
block content
  h1 Results - Toys
 
  - let items = results
  div(class="container-fluid")
    div(class="col m-1")
      each item in items
        - let destination = `dispatch(\"/toys/update?id=${item._id}\")`
        - let destination1 = `dispatch(\"/toys/detail?id=${item._id}\")`
        - let destination2 = `dispatch(\"/toys/delete?id=${item._id}\")`
        div(class="row-sm-2", class="m-1") Item #{item.name}(#{item.type}) is #{item.age_range}
        //button.btn( class="btn-primary m-1", onclick= destination) Update
        button.btn.btn-primary.ml-1(onclick=`dispatch('/toys/update?id=${item._id}')`) Update
        button.btn.btn-primary.ml-1(onclick=`dispatch('/toys/detail?id=${item._id}')`) Detail
        button.btn.btn-primary.ml-1(onclick=`dispatch('/toys/delete?id=${item._id}')`) Delete
        br
        br  
       
  script.
    function dispatch(path){
      window.location.href=path
    }